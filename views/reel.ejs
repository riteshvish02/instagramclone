<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Document</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.6.0/fonts/remixicon.css"
      rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <style>
      html,
      body {
        position: relative;
        height: 100%;
      }

      body {
        background: #eee;
        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
        font-size: 14px;
        color: #000;
        margin: 0;
        padding: 0;
      }

      .swiper {
        width: 100%;
        height: 100%;
      }

      .swiper-slide {
        background: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    </style>
  </head>

  <body>
    <!-- Swiper -->
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <%reels.forEach(function(reel){%>
        
            <div class="swiper-slide bg-black relative">
              <video class="w-full h-full object-cover object-center" src="/images/uploads/<%=reel.video%>"></video>
              <div style="background-color: #262626; z-index: 99999;" class="w-full h-[73vh] rounded-t-[25px] bottom-0 absolute">
                <div style="border-top:1.2px solid #686767;" class="w-[100%]  absolute bottom-0 shrink-0  h-20 flex flex-col justify-start text-white">
                  <div class="flex gap-2 pt-2 items-center pl-2">
                    <div class="shrink-0 w-10 h-10 overflow-hidden rounded-full ">
                    <img class="w-full h-full object-cover object-center" src="" alt="">
                    </div>
                    <div>
                     <form action="">
                      <input type="text">
                     </form>
                    </div>
                  </div>
                </div>
                <div style="border-bottom:1.2px solid #686767;" class="w-full h-[12%] items-center pt-2 justify-start flex gap-4  flex-col">
                  <div style="background-color: #686767;" class="w-24 h-[4.5px] rounded-full"></div>
                  <h2 style="font-family: gilroy; font-size: 16px; color: #fff;">comments</h2>
                </div>
                <div  class="w-full h-[88%] overflow-y-auto items-center justify-start flex flex-col ">
                  <div style="border-bottom:1.2px  solid #686767;" class="w-[95%] shrink-0 h-20">
                    <div class="flex gap-2 pt-2 items-center pl-2">
                      <div class="shrink-0 w-10 h-10 overflow-hidden rounded-full ">
                      <img class="w-full h-full object-cover object-center" src="" alt="">
                      </div>
                      <h2 style="color: #fff; font-size: 15.5px; font-weight: 500; font-family: gilroy;">ritesh</h2>
                    </div>
                    <h2 style="color: #fff; font-size: 13px; font-family: gilroy;" class="pl-16 pb-6">hellodhdhhdhdhdhdhdhjdjdjdjjj</h2>
                  </div>
                  <div class="w-[95%] shrink-0  h-20 flex flex-col justify-start text-white">
                    <div class="flex gap-2 pt-2 items-center pl-2">
                      <div class="shrink-0 w-10 h-10 overflow-hidden rounded-full ">
                      <img class="w-full h-full object-cover object-center" src="" alt="">
                      </div>
                      <h2 style="color: #fff; font-size: 15.5px; font-weight: 550; font-family: gilroy;">ritesh</h2>
                      <h3 style="color: #fff; font-size: 14px; font-weight: 400; font-family: gilroy;" >dhdhhdhddh</h3>
                    </div>
                  </div>
                </div>
              </div>
                <div
                  style="
                    background: linear-gradient(
                      to right,
                      #0b0a0a08,
                      #1d1c1c08,
                      #00000026,
                      #00000034
                    );
                  "
                  class="w-14 h-full absolute  right-0 flex flex-col items-center justify-end pb-40 gap-4 text-white text-3xl">
                  <span class="flex flex-col items-center text-white relative z-40">
                    <i class="ri-heart-3-line font-thin"></i>
                    <h2 class="font-extrabold tracking-wider text-xs"><%=reel.likes.length%></h2>
                  </span>
                  <span class="flex flex-col items-center text-white relative z-40">
                    <i class="ri-chat-3-line"></i>
                    <h2 class="font-extrabold tracking-wider text-xs"><%=reel.comments.length%></h2>
                  </span>
      
                  <i class="ri-send-plane-fill"></i>
                  <svg
                    aria-label="More"
                    class="x1lliihq x1n2onr6 x1hfr7tm xq3z1fi scale-2"
                    fill="currentColor"
                    height="24"
                    role="img"
                    viewBox="0 0 24 24"
                    width="24">
                    <title>More</title>
                    <circle cx="12" cy="12" r="1.5"></circle>
                    <circle cx="6" cy="12" r="1.5"></circle>
                    <circle cx="18" cy="12" r="1.5"></circle>
                  </svg>
                </div>
                <div
                  style="background:linear-gradient(to bottom,#0000001e,#0000001e,#0000001e,#0000001e,#00000041,#00000066,#0000003a,#0000001e,#0000001e,#0000001e);"
                  class="w-full h-48 absolute  left-0 bottom-7 flex text-white items-center  justify-start gap-5 px-10">
                  <div
                    class="w-[15vw] h-[15vw] shrink-0 bg-sky-100 rounded-full overflow-hidden">
                    <img
                      class="h-full w-full object-cover object-center"
                      src="/images/uploads/<%=reel.user.profileimg%>"
                      alt="" />
                  </div>
                  <div class="text-xl font-extrabold">
                    <h3 style="font-size: 14.5px; line-height: 15px; letter-spacing:0.2px; font-weight:550; font-family: gilroy;" class=" w-fit text-xl font-extrabold"><%=reel.user.username%></h3>
                  </div>
                  <%if(reel.user._id.toString() == user._id.toString()){%>
                   <a href="/profile">
                    <button
                    id="btn"
                    style="font-size: 14.5px;background-color: #48484852; border: 2px solid rgb(41, 41, 41); letter-spacing:0.2px; font-weight:550; font-family: gilroy;"
                    class="px-4 rounded-md py-[1vh]   tracking-wide">
                     profile
                  </button>  
                   </a>
                  <%}else{%>
                    <button
                    id="btn"
                    style="font-size: 14.5px; letter-spacing:0.2px; font-weight:550; font-family: gilroy;"
                    class="px-4 rounded-md py-[1vh] bg-blue-500  tracking-wide">
                    follow
                  </button>
                 <% }%>
                    
                  
                  <div  class="absolute bottom-0  left-0 w-full h-1/3 px-14 pt-5">
                    <h2 style="font-size: 14.5px; letter-spacing:0.2px; font-weight:500; font-family: gilroy;" class="text-sm-5 font-semibold tracking-wide"><%=reel.caption%></h2>
                  </div>
                </div>
              </div>
             
        <%})%>
        
      </div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
      var swiper = new Swiper(".mySwiper", {
        direction: "vertical",
        slidesPerView: 1,
        spaceBetween: 30,
        mousewheel: true,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      });
    </script>
  </body>
</html>
